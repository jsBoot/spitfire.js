/*
 <a href="http://en.wikipedia.org/wiki/MIT_License">MIT</a>.
 @copyright All rights reserved <a href="http://www.webitup.fr">? Web It Up</a>
 @name https://github.com/jsBoot/spitfire.js/blob/master/src/loader.js#52-3657ff5469197138e12e590799bc63fccad52efb
*/
'use strict';(function(a,p){function d(a){t[t.length]=a}function g(a){r.className=r.className.replace(RegExp("\\b"+a+"\\b"),"")}function n(a,c){for(var b=0,e=a.length;b<e;b++)c.call(a,a[b],b)}function b(){r.className=r.className.replace(/ (w-|eq-|gt-|gte-|lt-|lte-|portrait|no-portrait|landscape|no-landscape)\d+/g,"");var b=a.innerWidth||r.clientWidth,c=a.outerWidth||a.screen.width;i.screen.innerWidth=b;i.screen.outerWidth=c;d("w-"+b);n(h.screens,function(a){b>a?(h.screensCss.gt&&d("gt-"+a),h.screensCss.gte&&
d("gte-"+a)):b<a?(h.screensCss.lt&&d("lt-"+a),h.screensCss.lte&&d("lte-"+a)):b===a&&(h.screensCss.lte&&d("lte-"+a),h.screensCss.eq&&d("e-q"+a),h.screensCss.gte&&d("gte-"+a))});var c=a.innerHeight||r.clientHeight,e=a.outerHeight||a.screen.height;i.screen.innerHeight=c;i.screen.outerHeight=e;i.feature("portrait",c>b);i.feature("landscape",c<b)}function c(){a.clearTimeout(v);v=a.setTimeout(b,100)}var k=a.document,e=a.navigator,u=a.location,r=k.documentElement,t=[],h={screens:[240,320,480,640,768,800,
1024,1280,1440,1680,1920],screensCss:{gt:true,gte:false,lt:true,lte:false,eq:false},browsers:[{ie:{min:6,max:10}}],browserCss:{gt:true,gte:false,lt:true,lte:false,eq:true},section:"-section",page:"-page",head:"head"};if(a.head_conf)for(var l in a.head_conf)a.head_conf[l]!==p&&(h[l]=a.head_conf[l]);var i=a[h.head]=function(){i.ready.apply(null,arguments)};i.feature=function(a,b,c){if(!a)return r.className+=" "+t.join(" "),t=[],i;Object.prototype.toString.call(b)==="[object Function]"&&(b=b.call());
d((b?"":"no-")+a);i[a]=!!b;c||(g("no-"+a),g(a),i.feature());return i};i.feature("js",true);l=e.userAgent.toLowerCase();e=/mobile|midp/.test(l);i.feature("mobile",e,true);i.feature("desktop",!e,true);l=/(chrome|firefox)[ \/]([\w.]+)/.exec(l)||/(iphone|ipad|ipod)(?:.*version)?[ \/]([\w.]+)/.exec(l)||/(android)(?:.*version)?[ \/]([\w.]+)/.exec(l)||/(webkit|opera)(?:.*version)?[ \/]([\w.]+)/.exec(l)||/(msie) ([\w.]+)/.exec(l)||[];e=l[1];l=parseFloat(l[2]);switch(e){case "msie":e="ie";l=k.documentMode||
l;break;case "firefox":e="ff";break;case "ipod":case "ipad":case "iphone":e="ios";break;case "webkit":e="safari"}i.browser={name:e,version:l};i.browser[e]=true;for(var s=0,m=h.browsers.length;s<m;s++)for(var q in h.browsers[s])if(e===q){d(q);for(var x=h.browsers[s][q].max,o=h.browsers[s][q].min;o<=x;o++)l>o?(h.browserCss.gt&&d("gt-"+q+o),h.browserCss.gte&&d("gte-"+q+o)):l<o?(h.browserCss.lt&&d("lt-"+q+o),h.browserCss.lte&&d("lte-"+q+o)):l===o&&(h.browserCss.lte&&d("lte-"+q+o),h.browserCss.eq&&d("eq-"+
q+o),h.browserCss.gte&&d("gte-"+q+o))}else d("no-"+q);e==="ie"&&l<9&&n("abbr|article|aside|audio|canvas|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video".split("|"),function(a){k.createElement(a)});n(u.pathname.split("/"),function(a,b){if(this.length>2&&this[b+1]!==p)b&&d(this.slice(1,b+1).join("-").toLowerCase()+h.section);else{var c=a||"index",e=c.indexOf(".");e>0&&(c=c.substring(0,e));r.id=c.toLowerCase()+h.page;b||d("root"+h.section)}});
i.screen={height:a.screen.height,width:a.screen.width};b();var v=0;a.addEventListener?a.addEventListener("resize",c,false):a.attachEvent("onresize",c)})(window);
(function(a,p){function d(a){var b=a.charAt(0).toUpperCase()+a.substr(1),a=(a+" "+c.join(b+" ")+b).split(" "),e;a:for(var k in a)if(n[a[k]]!==p){e=true;break a}return!!e}var g=a.document.createElement("i"),n=g.style,b=" -o- -moz- -ms- -webkit- -khtml- ".split(" "),c="Webkit Moz O ms Khtml".split(" "),k=a[a.head_conf&&a.head_conf.head||"head"],e={gradient:function(){n.cssText=("background-image:"+b.join("gradient(linear,left top,right bottom,from(#9f9),to(#fff));background-image:")+b.join("linear-gradient(left top,#eee,#fff);background-image:")).slice(0,
-17);return!!n.backgroundImage},rgba:function(){n.cssText="background-color:rgba(0,0,0,0.5)";return!!n.backgroundColor},opacity:function(){return g.style.opacity===""},textshadow:function(){return n.textShadow===""},multiplebgs:function(){n.cssText="background:url(//:),url(//:),red url(//:)";return/(url\s*\(.*?){3}/.test(n.background)},boxshadow:function(){return d("boxShadow")},borderimage:function(){return d("borderImage")},borderradius:function(){return d("borderRadius")},cssreflections:function(){return d("boxReflect")},
csstransforms:function(){return d("transform")},csstransitions:function(){return d("transition")},touch:function(){return"ontouchstart"in a},retina:function(){return a.devicePixelRatio>1},fontface:function(){var a=k.browser.version;switch(k.browser.name){case "ie":return a>=9;case "chrome":return a>=13;case "ff":return a>=6;case "ios":return a>=5;case "android":return false;case "webkit":return a>=5.1;case "opera":return a>=10;default:return false}}},u;for(u in e)e[u]&&k.feature(u,e[u].call(),true);
k.feature()})(window);
(function(a,p){function d(){}function g(f,a){if(f){typeof f==="object"&&(f=[].slice.call(f));for(var b=0,c=f.length;b<c;b++)a.call(f,f[b],b)}}function n(f,a){var b=Object.prototype.toString.call(a).slice(8,-1);return a!==p&&a!==null&&b===f}function b(f){return n("Function",f)}function c(f){f=f||d;if(!f._done)f(),f._done=1}function k(f){var a={};if(typeof f==="object")for(var b in f)f[b]&&(a={name:b,url:f[b]});else a=f.split("/"),a=a[a.length-1],b=a.indexOf("?"),a={name:b!==-1?a.substring(0,b):a,url:f};
return(f=v[a.name])&&f.url===a.url?f:v[a.name]=a}function e(f){var f=f||v,a;for(a in f)if(f.hasOwnProperty(a)&&f[a].state!==y)return false;return true}function u(a){a.state=G;g(a.onpreload,function(a){a.call()})}function r(a){if(a.state===p)a.state=C,a.onpreload=[],h({src:a.url,type:"cache"},function(){u(a)})}function t(a,b){b=b||d;a.state===y?b():a.state===D?j.ready(a.name,b):a.state===C?a.onpreload.push(function(){t(a,b)}):(a.state=D,h(a.url,function(){a.state=y;b();g(o[a.name],function(a){c(a)});
w&&e()&&g(o.ALL,function(a){c(a)})}))}function h(a,b){var c;/\.css[^\.]*$/.test(a)?(c=m.createElement("link"),c.type="text/"+(a.type||"css"),c.rel="stylesheet",c.href=a.src||a):(c=m.createElement("script"),c.type="text/"+(a.type||"javascript"),c.src=a.src||a);l(c,b)}function l(b,c){c=c||d;b.onload=b.onreadystatechange=function(e){e=e||a.event;if(e.type==="load"||/loaded|complete/.test(b.readyState)&&m.documentMode<9)b.onload=b.onreadystatechange=b.onerror=null,c()};b.onerror=function(){b.onload=b.onreadystatechange=
b.onerror=null;c()};b.async=false;b.defer=false;var e=m.head||m.getElementsByTagName("head")[0];e.insertBefore(b,e.lastChild)}function i(){m.body?w||(w=true,g(q,function(a){c(a)})):(a.clearTimeout(j.readyTimeout),j.readyTimeout=a.setTimeout(i,50))}function s(){m.addEventListener?(m.removeEventListener("DOMContentLoaded",s,false),i()):m.readyState==="complete"&&(m.detachEvent("onreadystatechange",s),i())}var m=a.document,q=[],x=[],o={},v={},E="async"in m.createElement("script")||"MozAppearance"in m.documentElement.style||
a.opera,A,w,B=a.head_conf&&a.head_conf.head||"head",j=a[B]=a[B]||function(){j.ready.apply(null,arguments)},C=1,G=2,D=3,y=4;j.load=E?function(){var a=arguments,d=a[a.length-1],h={};b(d)||(d=null);g(a,function(b,i){b!==d&&(b=k(b),h[b.name]=b,t(b,d&&i===a.length-2?function(){e(h)&&c(d)}:null))});return j}:function(){var a=arguments,c=[].slice.call(a,1),e=c[0];if(!A)return x.push(function(){j.load.apply(null,a)}),j;e?(g(c,function(a){b(a)||r(k(a))}),t(k(a[0]),b(e)?e:function(){j.load.apply(null,c)})):
t(k(a[0]));return j};j.js=j.load;j.test=function(a,b,c,e){a=typeof a==="object"?a:{test:a,success:b?n("Array",b)?b:[b]:false,failure:c?n("Array",c)?c:[c]:false,callback:e||d};(b=!!a.test)&&a.success?(a.success.push(a.callback),j.load.apply(null,a.success)):!b&&a.failure?(a.failure.push(a.callback),j.load.apply(null,a.failure)):e();return j};j.ready=function(a,d){if(a===m)return w?c(d):q.push(d),j;b(a)&&(d=a,a="ALL");if(typeof a!=="string"||!b(d))return j;var k=v[a];if(k&&k.state===y||a==="ALL"&&e()&&
w)return c(d),j;(k=o[a])?k.push(d):o[a]=[d];return j};j.ready(m,function(){e()&&g(o.ALL,function(a){c(a)});j.feature&&j.feature("domloaded",true)});if(m.readyState==="complete")i();else if(m.addEventListener)m.addEventListener("DOMContentLoaded",s,false),a.addEventListener("load",i,false);else{m.attachEvent("onreadystatechange",s);a.attachEvent("onload",i);var z=false;try{z=a.frameElement==null&&m.documentElement}catch(H){}z&&z.doScroll&&function F(){if(!w){try{z.doScroll("left")}catch(b){a.clearTimeout(j.readyTimeout);
j.readyTimeout=a.setTimeout(F,50);return}i()}}()}setTimeout(function(){A=true;g(x,function(a){a()})},300)})(window);
(function(){var a;typeof head!="undefined"&&(a=function(){return function(a,c){a.push(c);return head.js.apply(head.js,a)}});typeof YUI!="undefined"&&(a=function(){var a;YUI().use("get",function(c){a=c});a.Get.options.async=true;return function(){a.Get.js.apply(a.Get,arguments)}});typeof yepnope!="undefined"&&(a=function(){return function(a,c){var d=a[a.length-1];yepnope({load:a,callback:function(a){d==a&&c()}})}});typeof requirejs!="undefined"&&(a=function(){return function(a,c){requirejs(a,c)}});
var p;typeof $LAB!="undefined"&&(p=function(){var a=$LAB.sandbox();this.script=function(c){a=a.script(c);return this};this.wait=function(c){a=c?a.wait(c):a.wait();return this}});p||(p=function(){var b=null,c=[],d=false,e=a(),g=function(){if(!d&&(d=c.shift()))if(d.uris.length)e(d.uris,function(a){var b=d.callback;d=false;b&&b(a);g()});else{var a=d.callback;d=false;a&&a();g()}};this.script=function(a){b&&clearTimeout(b);c.length||c.push({uris:[],callback:false});c[c.length-1].uris.push(a);b=setTimeout(g,
1);return this};this.wait=function(a){var b=c.length?c[c.length-1]:false;d&&(b=d);if(!b)return a&&a(),this;b.callback?c.push({uris:[],callback:a}):(b.callback=a,c.push({uris:[],callback:false}));return this}});p.prototype.fork=function(){return new p};p.prototype.base=function(a){for(var c=document.getElementsByTagName("script"),d,a=RegExp(a),e=0,g;e<c.length;g=c[e].getAttribute("src"),e++)if(g&&a.test(g)){d=g.split("/");d.pop();d=d.join("/");break}return d};var d=1,g=null;p.prototype.style=function(a,
c){var k=document.getElementsByTagName("head")[0],e=document.createElement("link");e.setAttribute("type","text/css");e.setAttribute("rel","stylesheet");e.setAttribute("data-spitfire-index",d);c&&e.setAttribute("media",c);e.setAttribute("href",a);if(!g)g=k.lastChild;!g||!g.nextSibling?k.appendChild(e):k.insertBefore(e,g.nextSibling);g=e;d++};var n=typeof define==="function"&&define.amd;if(n||typeof exports=="object"&&exports)n&&define("Spitfire/loader",new p);else{if(!("Spitfire"in this))this.Spitfire=
{};this.Spitfire.loader=new p}}).apply(this);
