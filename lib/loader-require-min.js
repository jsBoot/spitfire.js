/*
 RequireJS 2.1.1 Copyright (c) 2010-2012, The Dojo Foundation All Rights Reserved.
 Available via the MIT or new BSD license.
 see: http://github.com/jrburke/requirejs for details
 <a href="http://en.wikipedia.org/wiki/MIT_License">MIT</a>.
 @copyright All rights reserved <a href="http://www.webitup.fr">? Web It Up</a>
 @name https://github.com/jsBoot/spitfire.js/blob/master/src/loader.js#52-3657ff5469197138e12e590799bc63fccad52efb
*/
'use strict';var requirejs,require,define;
(function(B){function l(b){return P.call(b)==="[object Function]"}function w(b){return P.call(b)==="[object Array]"}function p(b,c){if(b){var i;for(i=0;i<b.length;i+=1)if(b[i]&&c(b[i],i,b))break}}function x(b,c){if(b){var i;for(i=b.length-1;i>-1;i-=1)if(b[i]&&c(b[i],i,b))break}}function d(b,c){for(var i in b)if(b.hasOwnProperty(i)&&c(b[i],i))break}function f(b,c,i,e){c&&d(c,function(c,d){if(i||!I.call(b,d))e&&typeof c!=="string"?(b[d]||(b[d]={}),f(b[d],c,i,e)):b[d]=c});return b}function e(b,c){return function(){return c.apply(b,
arguments)}}function r(b){if(!b)return b;var c=B;p(b.split("."),function(b){c=c[b]});return c}function J(b,c,d,e){c=Error(c+"\nhttp://requirejs.org/docs/errors.html#"+b);c.requireType=b;c.requireModules=e;if(d)c.originalError=d;return c}function L(){if(K&&K.readyState==="interactive")return K;x(document.getElementsByTagName("script"),function(b){if(b.readyState==="interactive")return K=b});return K}var j,u,y,E,v,F,K,G,Q,Y,aa=/(\/\*([\s\S]*?)\*\/|([^:]|^)\/\/(.*)$)/mg,ba=/[^.]\s*require\s*\(\s*["']([^'"\s]+)["']\s*\)/g,
Z=/\.js$/,ca=/^\.\//;u=Object.prototype;var P=u.toString,I=u.hasOwnProperty,da=Array.prototype.splice,z=!!(typeof window!=="undefined"&&navigator&&document),$=!z&&typeof importScripts!=="undefined",ea=z&&navigator.platform==="PLAYSTATION 3"?/^complete$/:/^(complete|loaded)$/,T=typeof opera!=="undefined"&&opera.toString()==="[object Opera]",A={},s={},R=[],M=false;if(typeof define==="undefined"){if(typeof requirejs!=="undefined"){if(l(requirejs))return;s=requirejs;requirejs=void 0}typeof require!==
"undefined"&&!l(require)&&(s=require,require=void 0);j=requirejs=function(b,c,d,e){var f,r="_";!w(b)&&typeof b!=="string"&&(f=b,w(c)?(b=c,c=d,d=e):b=[]);if(f&&f.context)r=f.context;(e=A[r])||(e=A[r]=j.s.newContext(r));f&&e.configure(f);return e.require(b,c,d)};j.config=function(b){return j(b)};j.nextTick=typeof setTimeout!=="undefined"?function(b){setTimeout(b,4)}:function(b){b()};require||(require=j);j.version="2.1.1";j.jsExtRegExp=/^\/|:|\?|\.js$/;j.isBrowser=z;u=j.s={contexts:A,newContext:function(b){function c(a,
h,C){var g,m,b,c,d,e,f,i=h&&h.split("/");g=i;var j=n.map,k=j&&j["*"];if(a&&a.charAt(0)===".")if(h){g=n.pkgs[h]?i=[h]:i.slice(0,i.length-1);h=a=g.concat(a.split("/"));for(g=0;h[g];g+=1)if(m=h[g],m===".")h.splice(g,1),g-=1;else if(m==="..")if(g===1&&(h[2]===".."||h[0]===".."))break;else g>0&&(h.splice(g-1,2),g-=2);g=n.pkgs[h=a[0]];a=a.join("/");g&&a===h+"/"+g.main&&(a=h)}else a.indexOf("./")===0&&(a=a.substring(2));if(C&&(i||k)&&j){h=a.split("/");for(g=h.length;g>0;g-=1){b=h.slice(0,g).join("/");if(i)for(m=
i.length;m>0;m-=1)if(C=j[i.slice(0,m).join("/")])if(C=C[b]){c=C;d=g;break}if(c)break;!e&&k&&k[b]&&(e=k[b],f=g)}!c&&e&&(c=e,d=f);c&&(h.splice(0,d,c),a=h.join("/"))}return a}function i(a){z&&p(document.getElementsByTagName("script"),function(h){if(h.getAttribute("data-requiremodule")===a&&h.getAttribute("data-requirecontext")===k.contextName)return h.parentNode.removeChild(h),true})}function L(a){var h=n.paths[a];if(h&&w(h)&&h.length>1)return i(a),h.shift(),k.require.undef(a),k.require([a]),true}function X(a){var h,
b=a?a.indexOf("!"):-1;b>-1&&(h=a.substring(0,b),a=a.substring(b+1,a.length));return[h,a]}function t(a,h,b,g){var m,N,d=null,e=h?h.name:null,f=a,i=true,j="";a||(i=false,a="_@r"+(P+=1));a=X(a);d=a[0];a=a[1];d&&(d=c(d,e,g),N=q[d]);a&&(d?j=N&&N.normalize?N.normalize(a,function(a){return c(a,e,g)}):c(a,e,g):(j=c(a,e,g),a=X(j),d=a[0],j=a[1],b=true,m=k.nameToUrl(j)));b=d&&!N&&!b?"_unnormalized"+(Q+=1):"";return{prefix:d,name:j,parentMap:h,unnormalized:!!b,url:m,originalName:f,isDefine:i,id:(d?d+"!"+j:j)+
b}}function u(a){var h=a.id,b=o[h];b||(b=o[h]=new k.Module(a));return b}function s(a,h,b){var g=a.id,m=o[g];if(I.call(q,g)&&(!m||m.defineEmitComplete))h==="defined"&&b(q[g]);else u(a).on(h,b)}function D(a,h){var b=a.requireModules,g=false;if(h)h(a);else if(p(b,function(h){if(h=o[h])h.error=a,h.events.error&&(g=true,h.emit("error",a))}),!g)j.onError(a)}function v(){R.length&&(da.apply(H,[H.length-1,0].concat(R)),R=[])}function y(a,h,b){var g=a.map.id;a.error?a.emit("error",a.error):(h[g]=true,p(a.depMaps,
function(g,d){var c=g.id,e=o[c];e&&!a.depMatched[d]&&!b[c]&&(h[c]?(a.defineDep(d,q[c]),a.check()):y(e,h,b))}),b[g]=true)}function x(){var a,h,b,g,m=(b=n.waitSeconds*1E3)&&k.startTime+b<(new Date).getTime(),c=[],e=[],f=false,j=true;if(!G){G=true;d(o,function(b){a=b.map;h=a.id;if(b.enabled&&(a.isDefine||e.push(b),!b.error))if(!b.inited&&m)L(h)?f=g=true:(c.push(h),i(h));else if(!b.inited&&b.fetched&&a.isDefine&&(f=true,!a.prefix))return j=false});if(m&&c.length)return b=J("timeout","Load timeout for modules: "+
c,null,c),b.contextName=k.contextName,D(b);j&&p(e,function(a){y(a,{},{})});if((!m||g)&&f)if((z||$)&&!U)U=setTimeout(function(){U=0;x()},50);G=false}}function A(a){u(t(a[0],null,true)).init(a[1],a[2])}function E(a){var a=a.currentTarget||a.srcElement,b=k.onScriptLoad;a.detachEvent&&!T?a.detachEvent("onreadystatechange",b):a.removeEventListener("load",b,false);b=k.onScriptError;a.detachEvent&&!T||a.removeEventListener("error",b,false);return{node:a,id:a&&a.getAttribute("data-requiremodule")}}function F(){var a;
for(v();H.length;)if(a=H.shift(),a[0]===null)return D(J("mismatch","Mismatched anonymous define() module: "+a[a.length-1]));else A(a)}var G,V,k,O,U,n={waitSeconds:7,baseUrl:"./",paths:{},pkgs:{},shim:{},map:{},config:{}},o={},W={},H=[],q={},S={},P=1,Q=1;O={require:function(a){return a.require?a.require:a.require=k.makeRequire(a.map)},exports:function(a){a.usingExports=true;if(a.map.isDefine)return a.exports?a.exports:a.exports=q[a.map.id]={}},module:function(a){return a.module?a.module:a.module={id:a.map.id,
uri:a.map.url,config:function(){return n.config&&n.config[a.map.id]||{}},exports:q[a.map.id]}}};V=function(a){this.events=W[a.id]||{};this.map=a;this.shim=n.shim[a.id];this.depExports=[];this.depMaps=[];this.depMatched=[];this.pluginMaps={};this.depCount=0};V.prototype={init:function(a,b,c,g){g=g||{};if(!this.inited){this.factory=b;if(c)this.on("error",c);else this.events.error&&(c=e(this,function(a){this.emit("error",a)}));this.depMaps=a&&a.slice(0);this.errback=c;this.inited=true;this.ignore=g.ignore;
g.enabled||this.enabled?this.enable():this.check()}},defineDep:function(a,b){this.depMatched[a]||(this.depMatched[a]=true,this.depCount-=1,this.depExports[a]=b)},fetch:function(){if(!this.fetched){this.fetched=true;k.startTime=(new Date).getTime();var a=this.map;if(this.shim)k.makeRequire(this.map,{enableBuildCallback:true})(this.shim.deps||[],e(this,function(){return a.prefix?this.callPlugin():this.load()}));else return a.prefix?this.callPlugin():this.load()}},load:function(){var a=this.map.url;
S[a]||(S[a]=true,k.load(this.map.id,a))},check:function(){if(this.enabled&&!this.enabling){var a,b,c=this.map.id;b=this.depExports;var g=this.exports,m=this.factory;if(this.inited)if(this.error)this.emit("error",this.error);else{if(!this.defining){this.defining=true;if(this.depCount<1&&!this.defined){if(l(m)){if(this.events.error)try{g=k.execCb(c,m,b,g)}catch(d){a=d}else g=k.execCb(c,m,b,g);if(this.map.isDefine)if((b=this.module)&&b.exports!==void 0&&b.exports!==this.exports)g=b.exports;else if(g===
void 0&&this.usingExports)g=this.exports;if(a)return a.requireMap=this.map,a.requireModules=[this.map.id],a.requireType="define",D(this.error=a)}else g=m;this.exports=g;if(this.map.isDefine&&!this.ignore&&(q[c]=g,j.onResourceLoad))j.onResourceLoad(k,this.map,this.depMaps);delete o[c];this.defined=true}this.defining=false;if(this.defined&&!this.defineEmitted)this.defineEmitted=true,this.emit("defined",this.exports),this.defineEmitComplete=true}}else this.fetch()}},callPlugin:function(){var a=this.map,
b=a.id,f=t(a.prefix);this.depMaps.push(f);s(f,"defined",e(this,function(g){var m,f;f=this.map.name;var i=this.map.parentMap?this.map.parentMap.name:null,C=k.makeRequire(a.parentMap,{enableBuildCallback:true,skipMap:true});if(this.map.unnormalized){if(g.normalize&&(f=g.normalize(f,function(a){return c(a,i,true)})||""),g=t(a.prefix+"!"+f,this.map.parentMap),s(g,"defined",e(this,function(a){this.init([],function(){return a},null,{enabled:true,ignore:true})})),f=o[g.id]){this.depMaps.push(g);if(this.events.error)f.on("error",
e(this,function(a){this.emit("error",a)}));f.enable()}}else m=e(this,function(a){this.init([],function(){return a},null,{enabled:true})}),m.error=e(this,function(a){this.inited=true;this.error=a;a.requireModules=[b];d(o,function(a){a.map.id.indexOf(b+"_unnormalized")===0&&delete o[a.map.id]});D(a)}),m.fromText=e(this,function(b,g){var h=a.name,c=t(h),d=M;g&&(b=g);d&&(M=false);u(c);try{j.exec(b)}catch(f){throw Error("fromText eval for "+h+" failed: "+f);}d&&(M=true);this.depMaps.push(c);k.completeLoad(h);
C([h],m)}),g.load(a.name,C,m,n)}));k.enable(f,this);this.pluginMaps[f.id]=f},enable:function(){this.enabling=this.enabled=true;p(this.depMaps,e(this,function(a,b){var c,g;if(typeof a==="string"){a=t(a,this.map.isDefine?this.map:this.map.parentMap,false,!this.skipMap);this.depMaps[b]=a;if(c=O[a.id]){this.depExports[b]=c(this);return}this.depCount+=1;s(a,"defined",e(this,function(a){this.defineDep(b,a);this.check()}));this.errback&&s(a,"error",this.errback)}c=a.id;g=o[c];!O[c]&&g&&!g.enabled&&k.enable(a,
this)}));d(this.pluginMaps,e(this,function(a){var b=o[a.id];b&&!b.enabled&&k.enable(a,this)}));this.enabling=false;this.check()},on:function(a,b){var c=this.events[a];c||(c=this.events[a]=[]);c.push(b)},emit:function(a,b){p(this.events[a],function(a){a(b)});a==="error"&&delete this.events[a]}};k={config:n,contextName:b,registry:o,defined:q,urlFetched:S,defQueue:H,Module:V,makeModuleMap:t,nextTick:j.nextTick,configure:function(a){a.baseUrl&&a.baseUrl.charAt(a.baseUrl.length-1)!=="/"&&(a.baseUrl+="/");
var b=n.pkgs,c=n.shim,g={paths:true,config:true,map:true};d(a,function(a,b){g[b]?b==="map"?f(n[b],a,true,true):f(n[b],a,true):n[b]=a});if(a.shim)d(a.shim,function(a,b){w(a)&&(a={deps:a});if(a.exports&&!a.exportsFn)a.exportsFn=k.makeShimExports(a);c[b]=a}),n.shim=c;if(a.packages)p(a.packages,function(a){a=typeof a==="string"?{name:a}:a;b[a.name]={name:a.name,location:a.location||a.name,main:(a.main||"main").replace(ca,"").replace(Z,"")}}),n.pkgs=b;d(o,function(a,b){if(!a.inited&&!a.map.unnormalized)a.map=
t(b)});if(a.deps||a.callback)k.require(a.deps||[],a.callback)},makeShimExports:function(a){return function(){var b;a.init&&(b=a.init.apply(B,arguments));return b||r(a.exports)}},makeRequire:function(a,h){function d(g,c,f){var e,i;if(h.enableBuildCallback&&c&&l(c))c.__requireJsBuild=true;if(typeof g==="string"){if(l(c))return D(J("requireargs","Invalid require call"),f);if(a&&O[g])return O[g](o[a.id]);if(j.get)return j.get(k,g,a);e=t(g,a,false,true);e=e.id;return!I.call(q,e)?D(J("notloaded",'Module name "'+
e+'" has not been loaded yet for context: '+b+(a?"":". Use require([])"))):q[e]}F();k.nextTick(function(){F();i=u(t(null,a));i.skipMap=h.skipMap;i.init(g,c,f,{enabled:true});x()});return d}h=h||{};f(d,{isBrowser:z,toUrl:function(b){var h=b.lastIndexOf("."),d=null;h!==-1&&(d=b.substring(h,b.length),b=b.substring(0,h));return k.nameToUrl(c(b,a&&a.id,true),d)},defined:function(b){b=t(b,a,false,true).id;return I.call(q,b)},specified:function(b){b=t(b,a,false,true).id;return I.call(q,b)||I.call(o,b)}});
if(!a)d.undef=function(b){v();var c=t(b,a,true),h=o[b];delete q[b];delete S[c.url];delete W[b];if(h){if(h.events.defined)W[b]=h.events;delete o[b]}};return d},enable:function(a){o[a.id]&&u(a).enable()},completeLoad:function(a){var b,c,g=n.shim[a]||{},d=g.exports;for(v();H.length;){c=H.shift();if(c[0]===null){c[0]=a;if(b)break;b=true}else c[0]===a&&(b=true);A(c)}c=o[a];if(!b&&!q[a]&&c&&!c.inited)if(n.enforceDefine&&(!d||!r(d)))if(L(a))return;else return D(J("nodefine","No define call for "+a,null,
[a]));else A([a,g.deps||[],g.exportsFn]);x()},nameToUrl:function(a,b){var c,g,d,f,e,i;if(j.jsExtRegExp.test(a))f=a+(b||"");else{c=n.paths;g=n.pkgs;f=a.split("/");for(e=f.length;e>0;e-=1)if(i=f.slice(0,e).join("/"),d=g[i],i=c[i]){w(i)&&(i=i[0]);f.splice(0,e,i);break}else if(d){c=a===d.name?d.location+"/"+d.main:d.location;f.splice(0,e,c);break}f=f.join("/");f+=b||(/\?/.test(f)?"":".js");f=(f.charAt(0)==="/"||f.match(/^[\w\+\.\-]+:/)?"":n.baseUrl)+f}return n.urlArgs?f+((f.indexOf("?")===-1?"?":"&")+
n.urlArgs):f},load:function(a,b){j.load(k,a,b)},execCb:function(a,b,c,d){return b.apply(d,c)},onScriptLoad:function(a){if(a.type==="load"||ea.test((a.currentTarget||a.srcElement).readyState))K=null,a=E(a),k.completeLoad(a.id)},onScriptError:function(a){var b=E(a);if(!L(b.id))return D(J("scripterror","Script error",a,[b.id]))}};k.require=k.makeRequire();return k}};j({});p(["toUrl","undef","defined","specified"],function(b){j[b]=function(){var c=A._;return c.require[b].apply(c,arguments)}});if(z&&(y=
u.head=document.getElementsByTagName("head")[0],E=document.getElementsByTagName("base")[0]))y=u.head=E.parentNode;j.onError=function(b){throw b;};j.load=function(b,c,d){var f=b&&b.config||{},e;if(z)return e=f.xhtml?document.createElementNS("http://www.w3.org/1999/xhtml","html:script"):document.createElement("script"),e.type=f.scriptType||"text/javascript",e.charset="utf-8",e.async=true,e.setAttribute("data-requirecontext",b.contextName),e.setAttribute("data-requiremodule",c),e.attachEvent&&!(e.attachEvent.toString&&
e.attachEvent.toString().indexOf("[native code")<0)&&!T?(M=true,e.attachEvent("onreadystatechange",b.onScriptLoad)):(e.addEventListener("load",b.onScriptLoad,false),e.addEventListener("error",b.onScriptError,false)),e.src=d,G=e,E?y.insertBefore(e,E):y.appendChild(e),G=null,e;else $&&(importScripts(d),b.completeLoad(c))};z&&x(document.getElementsByTagName("script"),function(b){if(!y)y=b.parentNode;if(v=b.getAttribute("data-main")){if(!s.baseUrl)F=v.split("/"),Q=F.pop(),Y=F.length?F.join("/")+"/":"./",
s.baseUrl=Y,v=Q;v=v.replace(Z,"");s.deps=s.deps?s.deps.concat(v):[v];return true}});define=function(b,c,d){var e,f;typeof b!=="string"&&(d=c,c=b,b=null);w(c)||(d=c,c=[]);!c.length&&l(d)&&d.length&&(d.toString().replace(aa,"").replace(ba,function(b,d){c.push(d)}),c=(d.length===1?["require"]:["require","exports","module"]).concat(c));if(M&&(e=G||L()))b||(b=e.getAttribute("data-requiremodule")),f=A[e.getAttribute("data-requirecontext")];(f?f.defQueue:R).push([b,c,d])};define.amd={jQuery:true};j.exec=
function(b){return eval(b)};j(s)}})(this);
(function(){var B;typeof head!="undefined"&&(B=function(){return function(d,f){d.push(f);return head.js.apply(head.js,d)}});typeof YUI!="undefined"&&(B=function(){var d;YUI().use("get",function(f){d=f});d.Get.options.async=true;return function(){d.Get.js.apply(d.Get,arguments)}});typeof yepnope!="undefined"&&(B=function(){return function(d,f){var e=d[d.length-1];yepnope({load:d,callback:function(d){e==d&&f()}})}});typeof requirejs!="undefined"&&(B=function(){return function(d,f){requirejs(d,f)}});
var l;typeof $LAB!="undefined"&&(l=function(){var d=$LAB.sandbox();this.script=function(f){d=d.script(f);return this};this.wait=function(f){d=f?d.wait(f):d.wait();return this}});l||(l=function(){var d=null,f=[],e=false,r=B(),l=function(){if(!e&&(e=f.shift()))if(e.uris.length)r(e.uris,function(d){var f=e.callback;e=false;f&&f(d);l()});else{var d=e.callback;e=false;d&&d();l()}};this.script=function(e){d&&clearTimeout(d);f.length||f.push({uris:[],callback:false});f[f.length-1].uris.push(e);d=setTimeout(l,
1);return this};this.wait=function(d){var j=f.length?f[f.length-1]:false;e&&(j=e);if(!j)return d&&d(),this;j.callback?f.push({uris:[],callback:d}):(j.callback=d,f.push({uris:[],callback:false}));return this}});l.prototype.fork=function(){return new l};l.prototype.base=function(d){for(var f=document.getElementsByTagName("script"),e,d=RegExp(d),r=0,l;r<f.length;l=f[r].getAttribute("src"),r++)if(l&&d.test(l)){e=l.split("/");e.pop();e=e.join("/");break}return e};var w=1,p=null;l.prototype.style=function(d,
f){var e=document.getElementsByTagName("head")[0],l=document.createElement("link");l.setAttribute("type","text/css");l.setAttribute("rel","stylesheet");l.setAttribute("data-spitfire-index",w);f&&l.setAttribute("media",f);l.setAttribute("href",d);if(!p)p=e.lastChild;!p||!p.nextSibling?e.appendChild(l):e.insertBefore(l,p.nextSibling);p=l;w++};var x=typeof define==="function"&&define.amd;if(x||typeof exports=="object"&&exports)x&&define("Spitfire/loader",new l);else{if(!("Spitfire"in this))this.Spitfire=
{};this.Spitfire.loader=new l}}).apply(this);
