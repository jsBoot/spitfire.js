!function(){function fXMLHttpRequest(){this._object=!window.XMLHttpRequest||bIE7?new window.ActiveXObject("Microsoft.XMLHTTP"):window.XMLHttpRequest.isNormalizedObject?new oXMLHttpRequest:new window.XMLHttpRequest,this._listeners=[]}function cXMLHttpRequest(){return new fXMLHttpRequest}function fXMLHttpRequest_send(oRequest){if(oRequest._object.send(oRequest._data),bGecko&&!oRequest._async)for(oRequest.readyState=cXMLHttpRequest.OPENED,fSynchronizeValues(oRequest);oRequest.readyState<cXMLHttpRequest.DONE;)if(oRequest.readyState++,fReadyStateChange(oRequest),oRequest._aborted)return}function fReadyStateChange(oRequest){cXMLHttpRequest.onreadystatechange&&cXMLHttpRequest.onreadystatechange.apply(oRequest),oRequest.dispatchEvent({type:"readystatechange",bubbles:!1,cancelable:!1,timeStamp:(new Date).getTime()})}function fGetDocument(oRequest){var oDocument=oRequest.responseXML,sResponse=oRequest.responseText;return bIE&&sResponse&&oDocument&&!oDocument.documentElement&&oRequest.getResponseHeader("Content-Type").match(/[^\/]+\/[^\+]+\+xml/)&&(oDocument=new window.ActiveXObject("Microsoft.XMLDOM"),oDocument.async=!1,oDocument.validateOnParse=!1,oDocument.loadXML(sResponse)),oDocument&&(bIE&&0!=oDocument.parseError||!oDocument.documentElement||oDocument.documentElement&&"parsererror"==oDocument.documentElement.tagName)?null:oDocument}function fSynchronizeValues(oRequest){try{oRequest.responseText=oRequest._object.responseText}catch(e){}try{oRequest.responseXML=fGetDocument(oRequest._object)}catch(e){}try{oRequest.status=oRequest._object.status}catch(e){}try{oRequest.statusText=oRequest._object.statusText}catch(e){}}function fCleanTransport(oRequest){oRequest._object.onreadystatechange=new window.Function}var oXMLHttpRequest=window.XMLHttpRequest,bGecko=!!window.controllers,bIE=!!window.document.namespaces,bIE7=bIE&&window.navigator.userAgent.match(/MSIE 7.0/);cXMLHttpRequest.prototype=fXMLHttpRequest.prototype,bGecko&&oXMLHttpRequest.wrapped&&(cXMLHttpRequest.wrapped=oXMLHttpRequest.wrapped),cXMLHttpRequest.isNormalizedObject=!0,cXMLHttpRequest.UNSENT=0,cXMLHttpRequest.OPENED=1,cXMLHttpRequest.HEADERS_RECEIVED=2,cXMLHttpRequest.LOADING=3,cXMLHttpRequest.DONE=4,cXMLHttpRequest.prototype.UNSENT=cXMLHttpRequest.UNSENT,cXMLHttpRequest.prototype.OPENED=cXMLHttpRequest.OPENED,cXMLHttpRequest.prototype.HEADERS_RECEIVED=cXMLHttpRequest.HEADERS_RECEIVED,cXMLHttpRequest.prototype.LOADING=cXMLHttpRequest.LOADING,cXMLHttpRequest.prototype.DONE=cXMLHttpRequest.DONE,cXMLHttpRequest.prototype.readyState=cXMLHttpRequest.UNSENT,cXMLHttpRequest.prototype.responseText="",cXMLHttpRequest.prototype.responseXML=null,cXMLHttpRequest.prototype.status=0,cXMLHttpRequest.prototype.statusText="",cXMLHttpRequest.prototype.priority="NORMAL",cXMLHttpRequest.prototype.onreadystatechange=null,cXMLHttpRequest.onreadystatechange=null,cXMLHttpRequest.onopen=null,cXMLHttpRequest.onsend=null,cXMLHttpRequest.onabort=null,cXMLHttpRequest.prototype.open=function(sMethod,sUrl,bAsync,sUser,sPassword){var sLowerCaseMethod=sMethod.toLowerCase();if("connect"==sLowerCaseMethod||"trace"==sLowerCaseMethod||"track"==sLowerCaseMethod)throw new Error(18);delete this._headers,arguments.length<3&&(bAsync=!0),this._async=bAsync;var oRequest=this,nState=this.readyState,fOnUnload=null;bIE&&bAsync&&(fOnUnload=function(){nState!=cXMLHttpRequest.DONE&&(fCleanTransport(oRequest),oRequest.abort())},window.attachEvent("onunload",fOnUnload)),cXMLHttpRequest.onopen&&cXMLHttpRequest.onopen.apply(this,arguments),arguments.length>4?this._object.open(sMethod,sUrl,bAsync,sUser,sPassword):arguments.length>3?this._object.open(sMethod,sUrl,bAsync,sUser):this._object.open(sMethod,sUrl,bAsync),this.readyState=cXMLHttpRequest.OPENED,fReadyStateChange(this),this._object.onreadystatechange=function(){return!bGecko||bAsync?(oRequest.readyState=oRequest._object.readyState,fSynchronizeValues(oRequest),oRequest._aborted?(oRequest.readyState=cXMLHttpRequest.UNSENT,void 0):(oRequest.readyState==cXMLHttpRequest.DONE&&(delete oRequest._data,fCleanTransport(oRequest),bIE&&bAsync&&window.detachEvent("onunload",fOnUnload),nState!=oRequest.readyState&&fReadyStateChange(oRequest),nState=oRequest.readyState),void 0)):void 0}},cXMLHttpRequest.prototype.send=function(vData){cXMLHttpRequest.onsend&&cXMLHttpRequest.onsend.apply(this,arguments),arguments.length||(vData=null),vData&&vData.nodeType&&(vData=window.XMLSerializer?(new window.XMLSerializer).serializeToString(vData):vData.xml,this._headers["Content-Type"]||this._object.setRequestHeader("Content-Type","application/xml")),this._data=vData,fXMLHttpRequest_send(this)},cXMLHttpRequest.prototype.abort=function(){cXMLHttpRequest.onabort&&cXMLHttpRequest.onabort.apply(this,arguments),this.readyState>cXMLHttpRequest.UNSENT&&(this._aborted=!0),this._object.abort(),fCleanTransport(this),this.readyState=cXMLHttpRequest.UNSENT,delete this._data},cXMLHttpRequest.prototype.getAllResponseHeaders=function(){return this._object.getAllResponseHeaders()},cXMLHttpRequest.prototype.getResponseHeader=function(sName){return this._object.getResponseHeader(sName)},cXMLHttpRequest.prototype.setRequestHeader=function(sName,sValue){return this._headers||(this._headers={}),this._headers[sName]=sValue,this._object.setRequestHeader(sName,sValue)},cXMLHttpRequest.prototype.addEventListener=function(sName,fHandler,bUseCapture){for(var oListener,nIndex=0;oListener=this._listeners[nIndex];nIndex++)if(oListener[0]==sName&&oListener[1]==fHandler&&oListener[2]==bUseCapture)return;this._listeners.push([sName,fHandler,bUseCapture])},cXMLHttpRequest.prototype.removeEventListener=function(sName,fHandler,bUseCapture){for(var oListener,nIndex=0;(oListener=this._listeners[nIndex])&&(oListener[0]!=sName||oListener[1]!=fHandler||oListener[2]!=bUseCapture);nIndex++);oListener&&this._listeners.splice(nIndex,1)},cXMLHttpRequest.prototype.dispatchEvent=function(oEvent){var oEventPseudo={type:oEvent.type,target:this,currentTarget:this,eventPhase:2,bubbles:oEvent.bubbles,cancelable:oEvent.cancelable,timeStamp:oEvent.timeStamp,stopPropagation:function(){},preventDefault:function(){},initEvent:function(){}};"readystatechange"==oEventPseudo.type&&this.onreadystatechange&&(this.onreadystatechange.handleEvent||this.onreadystatechange).apply(this,[oEventPseudo]);for(var oListener,nIndex=0;oListener=this._listeners[nIndex];nIndex++)oListener[0]!=oEventPseudo.type||oListener[2]||(oListener[1].handleEvent||oListener[1]).apply(this,[oEventPseudo])},cXMLHttpRequest.prototype.toString=function(){return"[object XMLHttpRequest]"},cXMLHttpRequest.toString=function(){return"[XMLHttpRequest]"},window.Function.prototype.apply||(window.Function.prototype.apply=function(oRequest,oArguments){oArguments||(oArguments=[]),oRequest.__func=this,oRequest.__func(oArguments[0],oArguments[1],oArguments[2],oArguments[3],oArguments[4]),delete oRequest.__func}),window.XMLHttpRequest=cXMLHttpRequest}();
//# sourceMappingURL=xmlhttprequest.js.map