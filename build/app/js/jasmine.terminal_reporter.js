!function(){if(!jasmine)throw new Exception("jasmine library does not exist in global namespace!");var DEFAULT_VERBOSITY=2,ATTRIBUTES_TO_ANSI={off:0,bold:1,red:31,green:32},TerminalReporter=function(params){var parameters=params||{};this.verbosity=0===parameters.verbosity?0:parameters.verbosity||DEFAULT_VERBOSITY,this.color=parameters.color,this.started=!1,this.finished=!1,this.current_suite_hierarchy=[],this.indent_string="  "};TerminalReporter.prototype={reportRunnerResults:function(){var dur=(new Date).getTime()-this.start_time,failed=this.executed_specs-this.passed_specs,spec_str=this.executed_specs+(1===this.executed_specs?" spec, ":" specs, "),fail_str=failed+(1===failed?" failure in ":" failures in "),summary_str=spec_str+fail_str+dur/1e3+"s.",result_str=(failed&&"FAILURE: "||"SUCCESS: ")+summary_str,result_color=failed&&"red+bold"||"green+bold";2===this.verbosity&&this.log(""),this.verbosity>0&&this.log(this.inColor(result_str,result_color)),this.finished=!0},reportRunnerStarting:function(){this.started=!0,this.start_time=(new Date).getTime(),this.executed_specs=0,this.passed_specs=0},reportSpecResults:function(spec){var color="red";if(!spec.results().skipped){if(spec.results().passed()&&(this.passed_specs++,color="green"),2===this.verbosity){var resultText="F";spec.results().passed()&&(resultText="."),this.log(this.inColor(resultText,color))}else this.verbosity>2&&(resultText="Failed",spec.results().passed()&&(resultText="Passed"),this.log(" "+this.inColor(resultText,color)));if(!spec.results().passed()){2===this.verbosity&&(this.log(" "),this.log(this.indentWithCurrentLevel(this.indent_string+spec.getFullName())));for(var items=spec.results().getItems(),i=0;i<items.length;i++){var item=items[i];item instanceof jasmine.ExpectationResult&&!item.passed()&&this.log(this.inColor(this.indentWithCurrentLevel(this.indent_string+this.indent_string+item.toString()),color))}}}},reportSpecStarting:function(spec){this.executed_specs++,this.verbosity>2&&(this.logCurrentSuite(spec.suite),this.log(this.indentWithCurrentLevel(this.indent_string+spec.description+" ...")))},reportSuiteResults:function(suite){var results=suite.results(),failed=results.totalCount-results.passedCount,color=failed?"red+bold":"green+bold";this.verbosity>2&&(this.logCurrentSuite(suite),this.log(this.indentWithCurrentLevel(this.inColor(results.passedCount+" of "+results.totalCount+" passed.",color))))},indentWithCurrentLevel:function(string){return new Array(this.current_suite_hierarchy.length).join(this.indent_string)+string},recursivelyUpdateHierarchyUpToRootAndLogNewBranches:function(suite){var current_level,suite_path=[];return null!=suite.parentSuite&&(suite_path=this.recursivelyUpdateHierarchyUpToRootAndLogNewBranches(suite.parentSuite)),suite_path.push(suite),current_level=suite_path.length-1,(this.current_suite_hierarchy.length<=current_level||this.current_suite_hierarchy[current_level]!==suite)&&(this.current_suite_hierarchy=suite_path.slice(0),this.log(this.indentWithCurrentLevel(this.inColor(suite.description,"bold")))),suite_path},logCurrentSuite:function(suite){var suite_path=this.recursivelyUpdateHierarchyUpToRootAndLogNewBranches(suite);this.current_suite_hierarchy=suite_path},inColor:function(string,color){var i,color_attributes=color&&color.split("+"),ansi_string="";if(!this.color||!color_attributes)return string;for(i=0;i<color_attributes.length;i++)ansi_string+="["+ATTRIBUTES_TO_ANSI[color_attributes[i]]+"m";return ansi_string+=string+"["+ATTRIBUTES_TO_ANSI.off+"m"},log:function(str){var console=jasmine.getGlobal().console;console&&console.log&&console.log(str)}},jasmine.TerminalReporter=TerminalReporter}();
//# sourceMappingURL=jasmine.terminal_reporter.js.map