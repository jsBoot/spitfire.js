!function(){if(!jasmine)throw new Exception("jasmine library does not exist in global namespace!");var TeamcityReporter=function(){this.started=!1,this.finished=!1};TeamcityReporter.prototype={reportRunnerResults:function(){this.log("##teamcity[progressFinish 'Running Jasmine Tests']")},reportRunnerStarting:function(){this.log("##teamcity[progressStart 'Running Jasmine Tests']")},reportSpecResults:function(){},reportSpecStarting:function(){},reportSuiteResults:function(suite){for(var results=suite.results(),path=[];suite;)path.unshift(suite.description),suite=suite.parentSuite;var description=path.join(" ");this.log("##teamcity[testSuiteStarted name='"+this.escapeTeamcityString(description)+"']");for(var outerThis=this,eachSpecFn=function(spec){if(spec.description){outerThis.log("##teamcity[testStarted name='"+outerThis.escapeTeamcityString(spec.description)+"' captureStandardOutput='true']");for(var specResultFn=function(result){result.passed_||outerThis.log("##teamcity[testFailed name='"+outerThis.escapeTeamcityString(spec.description)+"' message='|[FAILED|]' details='"+outerThis.escapeTeamcityString(result.trace.stack)+"']")},j=0,jlen=spec.items_.length;jlen>j;j++)specResultFn(spec.items_[j]);outerThis.log("##teamcity[testFinished name='"+outerThis.escapeTeamcityString(spec.description)+"']")}},i=0,ilen=results.items_.length;ilen>i;i++)eachSpecFn(results.items_[i]);this.log("##teamcity[testSuiteFinished name='"+outerThis.escapeTeamcityString(description)+"']")},log:function(str){var console=jasmine.getGlobal().console;console&&console.log&&console.log(str)},hasGroupedConsole:function(){var console=jasmine.getGlobal().console;return console&&console.info&&console.warn&&console.group&&console.groupEnd&&console.groupCollapsed},escapeTeamcityString:function(message){return message?message.replace(/\|/g,"||").replace(/\'/g,"|'").replace(/\n/g,"|n").replace(/\r/g,"|r").replace(/\u0085/g,"|x").replace(/\u2028/g,"|l").replace(/\u2029/g,"|p").replace(/\[/g,"|[").replace(/]/g,"|]"):""}},jasmine.TeamcityReporter=TeamcityReporter}();
//# sourceMappingURL=jasmine.teamcity_reporter.js.map