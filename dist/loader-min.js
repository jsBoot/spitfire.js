/*
 <a href="http://en.wikipedia.org/wiki/MIT_License">MIT</a>.
 @copyright All rights reserved <a href="http://www.webitup.fr">copyright WebItUp <dev@webitup.fr> (http://www.webitup.fr/lab)</a>
 @name loader.js
 @location https://github.com/jsBoot/spitfire.js/blob/master/src/loader.js#111-0f8cc49a5082f7c6a0ca6ae84a9d585ad117fcd2
*/
'use strict';(function(){var g;"undefined"!=typeof head&&(g=function(){return function(a,b){a.push(b);return head.js.apply(head.js,a)}});"undefined"!=typeof YUI&&(g=function(){var a;YUI().use("get",function(b){a=b});a.Get.options.async=!0;return function(){a.Get.js.apply(a.Get,arguments)}});"undefined"!=typeof yepnope&&(g=function(){return function(a,b){var c=a[a.length-1];yepnope({load:a,callback:function(a){c==a&&b()}})}});"undefined"!=typeof requirejs&&(g=function(){return function(a,b){requirejs(a,
b)}});var e;"undefined"!=typeof $LAB&&(e=function(){var a=$LAB.sandbox();this.script=function(b){a=a.script(b);return this};this.wait=function(b){a=b?a.wait(b):a.wait();return this}});e||(e=function(){var a=null,b=[],c=!1,d=g(),e=function(){if(!c&&(c=b.shift()))if(c.uris.length)d(c.uris,function(a){var b=c.callback;c=!1;b&&b(a);e()});else{var a=c.callback;c=!1;a&&a();e()}};this.script=function(c){a&&clearTimeout(a);b.length||b.push({uris:[],callback:!1});b[b.length-1].uris.push(c);a=setTimeout(e,
1);return this};this.wait=function(a){var d=b.length?b[b.length-1]:!1;c&&(d=c);if(!d)return a&&a(),this;d.callback?b.push({uris:[],callback:a}):(d.callback=a,b.push({uris:[],callback:!1}));return this}});e.prototype.fork=function(){return new e};e.prototype.base=function(a){var b=document.getElementsByTagName("script"),c;a=RegExp(a);for(var d=0,e;d<b.length;e=b[d].getAttribute("src"),d++)if(e&&a.test(e)){c=e.split("/");c.pop();c=c.join("/")||"./";break}return c||null};var h=1,f=null;e.prototype.style=
function(a,b){var c=document.getElementsByTagName("head")[0],d=document.createElement("link");d.setAttribute("type","text/css");d.setAttribute("rel","stylesheet");d.setAttribute("data-spitfire-index",h);b&&d.setAttribute("media",b);d.setAttribute("href",a);f||(f=c.lastChild);f&&f.nextSibling?c.insertBefore(d,f.nextSibling):c.appendChild(d);f=d;h++};var k="function"===typeof define&&define.amd,l="object"==typeof exports&&exports;k||l?k&&define("Spitfire/loader",new e):("Spitfire"in this||(this.Spitfire=
{}),this.Spitfire.loader=new e)}).apply(this);
