/*
 RequireJS 2.1.5 Copyright (c) 2010-2012, The Dojo Foundation All Rights Reserved.
 Available via the MIT or new BSD license.
 see: http://github.com/jrburke/requirejs for details
 <a href="http://en.wikipedia.org/wiki/MIT_License">MIT</a>.
 @copyright All rights reserved <a href="http://www.webitup.fr">copyright WebItUp</a>
 @name https://github.com/jsBoot/spitfire.js/blob/master/src/loader.js#61-cf5eb006aad1e3ff52667ff791884991903ded05
*/
'use strict';var requirejs,require,define;
(function(D){function r(b){return Q.call(b)==="[object Function]"}function A(b){return Q.call(b)==="[object Array]"}function s(b,n){if(b){var c;for(c=0;c<b.length;c+=1)if(b[c]&&n(b[c],c,b))break}}function E(b,c){if(b){var d;for(d=b.length-1;d>-1;d-=1)if(b[d]&&c(b[d],d,b))break}}function d(b,c){return da.call(b,c)}function c(b,c){return d(b,c)&&b[c]}function e(b,c){for(var e in b)if(d(b,e)&&c(b[e],e))break}function i(b,c,M,m){c&&e(c,function(c,n){if(M||!d(b,n))m&&typeof c!=="string"?(b[n]||(b[n]={}),
i(b[n],c,M,m)):b[n]=c});return b}function o(b,c){return function(){return c.apply(b,arguments)}}function $(b){if(!b)return b;var c=D;s(b.split("."),function(b){c=c[b]});return c}function F(b,c,d,e){c=Error(c+"\nhttp://requirejs.org/docs/errors.html#"+b);c.requireType=b;c.requireModules=e;if(d)c.originalError=d;return c}function N(){if(L&&L.readyState==="interactive")return L;E(document.getElementsByTagName("script"),function(c){if(c.readyState==="interactive")return L=c});return L}var m,x,y,H,w,I,
L,J,R,aa,ea=/(\/\*([\s\S]*?)\*\/|([^:]|^)\/\/(.*)$)/mg,fa=/[^.]\s*require\s*\(\s*["']([^'"\s]+)["']\s*\)/g,ba=/\.js$/,ga=/^\.\//;x=Object.prototype;var Q=x.toString,da=x.hasOwnProperty,ha=Array.prototype.splice,B=!!(typeof window!=="undefined"&&navigator&&document),ca=!B&&typeof importScripts!=="undefined",ia=B&&navigator.platform==="PLAYSTATION 3"?/^complete$/:/^(complete|loaded)$/,V=typeof opera!=="undefined"&&opera.toString()==="[object Opera]",C={},u={},S=[],O=false;if(typeof define==="undefined"){if(typeof requirejs!==
"undefined"){if(r(requirejs))return;u=requirejs;requirejs=void 0}typeof require!=="undefined"&&!r(require)&&(u=require,require=void 0);m=requirejs=function(b,d,e,i){var h,o="_";!A(b)&&typeof b!=="string"&&(h=b,A(d)?(b=d,d=e,e=i):b=[]);if(h&&h.context)o=h.context;(i=c(C,o))||(i=C[o]=m.s.newContext(o));h&&i.configure(h);return i.require(b,d,e)};m.config=function(c){return m(c)};m.nextTick=typeof setTimeout!=="undefined"?function(c){setTimeout(c,4)}:function(c){c()};require||(require=m);m.version="2.1.5";
m.jsExtRegExp=/^\/|:|\?|\.js$/;m.isBrowser=B;x=m.s={contexts:C,newContext:function(b){function n(a,f,G){var g,p,b,d,e,n,k,h=f&&f.split("/");g=h;var m=l.map,i=m&&m["*"];if(a&&a.charAt(0)===".")if(f){g=c(l.pkgs,f)?h=[f]:h.slice(0,h.length-1);f=a=g.concat(a.split("/"));for(g=0;f[g];g+=1)if(p=f[g],p===".")f.splice(g,1),g-=1;else if(p==="..")if(g===1&&(f[2]===".."||f[0]===".."))break;else g>0&&(f.splice(g-1,2),g-=2);g=c(l.pkgs,f=a[0]);a=a.join("/");g&&a===f+"/"+g.main&&(a=f)}else a.indexOf("./")===0&&
(a=a.substring(2));if(G&&m&&(h||i)){f=a.split("/");for(g=f.length;g>0;g-=1){b=f.slice(0,g).join("/");if(h)for(p=h.length;p>0;p-=1)if(G=c(m,h.slice(0,p).join("/")))if(G=c(G,b)){d=G;e=g;break}if(d)break;!n&&i&&c(i,b)&&(n=c(i,b),k=g)}!d&&n&&(d=n,e=k);d&&(f.splice(0,e,d),a=f.join("/"))}return a}function M(a){B&&s(document.getElementsByTagName("script"),function(f){if(f.getAttribute("data-requiremodule")===a&&f.getAttribute("data-requirecontext")===k.contextName)return f.parentNode.removeChild(f),true})}
function U(a){var f=c(l.paths,a);if(f&&A(f)&&f.length>1)return M(a),f.shift(),k.require.undef(a),k.require([a]),true}function h(a){var f,c=a?a.indexOf("!"):-1;c>-1&&(f=a.substring(0,c),a=a.substring(c+1,a.length));return[f,a]}function v(a,f,b,g){var p,d,j=null,e=f?f.name:null,m=a,i=true,l="";a||(i=false,a="_@r"+(Q+=1));a=h(a);j=a[0];a=a[1];j&&(j=n(j,e,g),d=c(t,j));a&&(j?l=d&&d.normalize?d.normalize(a,function(a){return n(a,e,g)}):n(a,e,g):(l=n(a,e,g),a=h(l),j=a[0],l=a[1],b=true,p=k.nameToUrl(l)));
b=j&&!d&&!b?"_unnormalized"+(R+=1):"";return{prefix:j,name:l,parentMap:f,unnormalized:!!b,url:p,originalName:m,isDefine:i,id:(j?j+"!"+l:l)+b}}function u(a){var f=a.id,b=c(q,f);b||(b=q[f]=new k.Module(a));return b}function w(a,f,b){var g=a.id,p=c(q,g);if(d(t,g)&&(!p||p.defineEmitComplete))f==="defined"&&b(t[g]);else u(a).on(f,b)}function z(a,f){var b=a.requireModules,g=false;if(f)f(a);else if(s(b,function(f){if(f=c(q,f))f.error=a,f.events.error&&(g=true,f.emit("error",a))}),!g)m.onError(a)}function x(){S.length&&
(ha.apply(K,[K.length-1,0].concat(S)),S=[])}function y(a){delete q[a];delete W[a]}function E(a,f,b){var g=a.map.id;a.error?a.emit("error",a.error):(f[g]=true,s(a.depMaps,function(g,d){var e=g.id,h=c(q,e);h&&!a.depMatched[d]&&!b[e]&&(c(f,e)?(a.defineDep(d,t[e]),a.check()):E(h,f,b))}),b[g]=true)}function C(){var a,f,c,g,b=(c=l.waitSeconds*1E3)&&k.startTime+c<(new Date).getTime(),d=[],j=[],h=false,n=true;if(!J){J=true;e(W,function(c){a=c.map;f=a.id;if(c.enabled&&(a.isDefine||j.push(c),!c.error))if(!c.inited&&
b)U(f)?h=g=true:(d.push(f),M(f));else if(!c.inited&&c.fetched&&a.isDefine&&(h=true,!a.prefix))return n=false});if(b&&d.length)return c=F("timeout","Load timeout for modules: "+d,null,d),c.contextName=k.contextName,z(c);n&&s(j,function(a){E(a,{},{})});if((!b||g)&&h)if((B||ca)&&!X)X=setTimeout(function(){X=0;C()},50);J=false}}function N(a){d(t,a[0])||u(v(a[0],null,true)).init(a[1],a[2])}function H(a){var a=a.currentTarget||a.srcElement,f=k.onScriptLoad;a.detachEvent&&!V?a.detachEvent("onreadystatechange",
f):a.removeEventListener("load",f,false);f=k.onScriptError;a.detachEvent&&!V||a.removeEventListener("error",f,false);return{node:a,id:a&&a.getAttribute("data-requiremodule")}}function I(){var a;for(x();K.length;)if(a=K.shift(),a[0]===null)return z(F("mismatch","Mismatched anonymous define() module: "+a[a.length-1]));else N(a)}var J,Y,k,P,X,l={waitSeconds:7,baseUrl:"./",paths:{},pkgs:{},shim:{},config:{}},q={},W={},Z={},K=[],t={},T={},Q=1,R=1;P={require:function(a){return a.require?a.require:a.require=
k.makeRequire(a.map)},exports:function(a){a.usingExports=true;if(a.map.isDefine)return a.exports?a.exports:a.exports=t[a.map.id]={}},module:function(a){return a.module?a.module:a.module={id:a.map.id,uri:a.map.url,config:function(){return l.config&&c(l.config,a.map.id)||{}},exports:t[a.map.id]}}};Y=function(a){this.events=c(Z,a.id)||{};this.map=a;this.shim=c(l.shim,a.id);this.depExports=[];this.depMaps=[];this.depMatched=[];this.pluginMaps={};this.depCount=0};Y.prototype={init:function(a,f,c,g){g=
g||{};if(!this.inited){this.factory=f;if(c)this.on("error",c);else this.events.error&&(c=o(this,function(a){this.emit("error",a)}));this.depMaps=a&&a.slice(0);this.errback=c;this.inited=true;this.ignore=g.ignore;g.enabled||this.enabled?this.enable():this.check()}},defineDep:function(a,c){this.depMatched[a]||(this.depMatched[a]=true,this.depCount-=1,this.depExports[a]=c)},fetch:function(){if(!this.fetched){this.fetched=true;k.startTime=(new Date).getTime();var a=this.map;if(this.shim)k.makeRequire(this.map,
{enableBuildCallback:true})(this.shim.deps||[],o(this,function(){return a.prefix?this.callPlugin():this.load()}));else return a.prefix?this.callPlugin():this.load()}},load:function(){var a=this.map.url;T[a]||(T[a]=true,k.load(this.map.id,a))},check:function(){if(this.enabled&&!this.enabling){var a,c,b=this.map.id;c=this.depExports;var g=this.exports,d=this.factory;if(this.inited)if(this.error)this.emit("error",this.error);else{if(!this.defining){this.defining=true;if(this.depCount<1&&!this.defined){if(r(d)){if(this.events.error)try{g=
k.execCb(b,d,c,g)}catch(e){a=e}else g=k.execCb(b,d,c,g);if(this.map.isDefine)if((c=this.module)&&c.exports!==void 0&&c.exports!==this.exports)g=c.exports;else if(g===void 0&&this.usingExports)g=this.exports;if(a)return a.requireMap=this.map,a.requireModules=[this.map.id],a.requireType="define",z(this.error=a)}else g=d;this.exports=g;if(this.map.isDefine&&!this.ignore&&(t[b]=g,m.onResourceLoad))m.onResourceLoad(k,this.map,this.depMaps);y(b);this.defined=true}this.defining=false;if(this.defined&&!this.defineEmitted)this.defineEmitted=
true,this.emit("defined",this.exports),this.defineEmitComplete=true}}else this.fetch()}},callPlugin:function(){var a=this.map,f=a.id,b=v(a.prefix);this.depMaps.push(b);w(b,"defined",o(this,function(b){var p,h;h=this.map.name;var j=this.map.parentMap?this.map.parentMap.name:null,G=k.makeRequire(a.parentMap,{enableBuildCallback:true});if(this.map.unnormalized){if(b.normalize&&(h=b.normalize(h,function(a){return n(a,j,true)})||""),b=v(a.prefix+"!"+h,this.map.parentMap),w(b,"defined",o(this,function(a){this.init([],
function(){return a},null,{enabled:true,ignore:true})})),h=c(q,b.id)){this.depMaps.push(b);if(this.events.error)h.on("error",o(this,function(a){this.emit("error",a)}));h.enable()}}else p=o(this,function(a){this.init([],function(){return a},null,{enabled:true})}),p.error=o(this,function(a){this.inited=true;this.error=a;a.requireModules=[f];e(q,function(a){a.map.id.indexOf(f+"_unnormalized")===0&&y(a.map.id)});z(a)}),p.fromText=o(this,function(c,b){var g=a.name,e=v(g),h=O;b&&(c=b);h&&(O=false);u(e);
d(l.config,f)&&(l.config[g]=l.config[f]);try{m.exec(c)}catch(j){return z(F("fromtexteval","fromText eval for "+f+" failed: "+j,j,[f]))}h&&(O=true);this.depMaps.push(e);k.completeLoad(g);G([g],p)}),b.load(a.name,G,p,l)}));k.enable(b,this);this.pluginMaps[b.id]=b},enable:function(){W[this.map.id]=this;this.enabling=this.enabled=true;s(this.depMaps,o(this,function(a,b){var e,g;if(typeof a==="string"){a=v(a,this.map.isDefine?this.map:this.map.parentMap,false,!this.skipMap);this.depMaps[b]=a;if(e=c(P,
a.id)){this.depExports[b]=e(this);return}this.depCount+=1;w(a,"defined",o(this,function(a){this.defineDep(b,a);this.check()}));this.errback&&w(a,"error",this.errback)}e=a.id;g=q[e];!d(P,e)&&g&&!g.enabled&&k.enable(a,this)}));e(this.pluginMaps,o(this,function(a){var b=c(q,a.id);b&&!b.enabled&&k.enable(a,this)}));this.enabling=false;this.check()},on:function(a,c){var b=this.events[a];b||(b=this.events[a]=[]);b.push(c)},emit:function(a,b){s(this.events[a],function(a){a(b)});a==="error"&&delete this.events[a]}};
k={config:l,contextName:b,registry:q,defined:t,urlFetched:T,defQueue:K,Module:Y,makeModuleMap:v,nextTick:m.nextTick,onError:z,configure:function(a){a.baseUrl&&a.baseUrl.charAt(a.baseUrl.length-1)!=="/"&&(a.baseUrl+="/");var b=l.pkgs,c=l.shim,g={paths:true,config:true,map:true};e(a,function(a,b){if(g[b])if(b==="map"){if(!l.map)l.map={};i(l[b],a,true,true)}else i(l[b],a,true);else l[b]=a});if(a.shim)e(a.shim,function(a,b){A(a)&&(a={deps:a});if((a.exports||a.init)&&!a.exportsFn)a.exportsFn=k.makeShimExports(a);
c[b]=a}),l.shim=c;if(a.packages)s(a.packages,function(a){a=typeof a==="string"?{name:a}:a;b[a.name]={name:a.name,location:a.location||a.name,main:(a.main||"main").replace(ga,"").replace(ba,"")}}),l.pkgs=b;e(q,function(a,b){if(!a.inited&&!a.map.unnormalized)a.map=v(b)});if(a.deps||a.callback)k.require(a.deps||[],a.callback)},makeShimExports:function(a){return function(){var b;a.init&&(b=a.init.apply(D,arguments));return b||a.exports&&$(a.exports)}},makeRequire:function(a,f){function e(c,h,n){var j,
l;if(f.enableBuildCallback&&h&&r(h))h.__requireJsBuild=true;if(typeof c==="string"){if(r(h))return z(F("requireargs","Invalid require call"),n);if(a&&d(P,c))return P[c](q[a.id]);if(m.get)return m.get(k,c,a,e);j=v(c,a,false,true);j=j.id;return!d(t,j)?z(F("notloaded",'Module name "'+j+'" has not been loaded yet for context: '+b+(a?"":". Use require([])"))):t[j]}I();k.nextTick(function(){I();l=u(v(null,a));l.skipMap=f.skipMap;l.init(c,h,n,{enabled:true});C()});return e}f=f||{};i(e,{isBrowser:B,toUrl:function(b){var c,
f=b.lastIndexOf("."),d=b.split("/")[0];if(f!==-1&&(!(d==="."||d==="..")||f>1))c=b.substring(f,b.length),b=b.substring(0,f);return k.nameToUrl(n(b,a&&a.id,true),c,true)},defined:function(b){return d(t,v(b,a,false,true).id)},specified:function(b){b=v(b,a,false,true).id;return d(t,b)||d(q,b)}});if(!a)e.undef=function(b){x();var f=v(b,a,true),d=c(q,b);delete t[b];delete T[f.url];delete Z[b];if(d){if(d.events.defined)Z[b]=d.events;y(b)}};return e},enable:function(a){c(q,a.id)&&u(a).enable()},completeLoad:function(a){var b,
e,g=c(l.shim,a)||{},h=g.exports;for(x();K.length;){e=K.shift();if(e[0]===null){e[0]=a;if(b)break;b=true}else e[0]===a&&(b=true);N(e)}e=c(q,a);if(!b&&!d(t,a)&&e&&!e.inited)if(l.enforceDefine&&(!h||!$(h)))if(U(a))return;else return z(F("nodefine","No define call for "+a,null,[a]));else N([a,g.deps||[],g.exportsFn]);C()},nameToUrl:function(a,b,d){var e,h,n,j,i,k;if(m.jsExtRegExp.test(a))j=a+(b||"");else{e=l.paths;h=l.pkgs;j=a.split("/");for(i=j.length;i>0;i-=1)if(k=j.slice(0,i).join("/"),n=c(h,k),k=
c(e,k)){A(k)&&(k=k[0]);j.splice(0,i,k);break}else if(n){a=a===n.name?n.location+"/"+n.main:n.location;j.splice(0,i,a);break}j=j.join("/");j+=b||(/\?/.test(j)||d?"":".js");j=(j.charAt(0)==="/"||j.match(/^[\w\+\.\-]+:/)?"":l.baseUrl)+j}return l.urlArgs?j+((j.indexOf("?")===-1?"?":"&")+l.urlArgs):j},load:function(a,b){m.load(k,a,b)},execCb:function(a,b,c,d){return b.apply(d,c)},onScriptLoad:function(a){if(a.type==="load"||ia.test((a.currentTarget||a.srcElement).readyState))L=null,a=H(a),k.completeLoad(a.id)},
onScriptError:function(a){var b=H(a);if(!U(b.id))return z(F("scripterror","Script error",a,[b.id]))}};k.require=k.makeRequire();return k}};m({});s(["toUrl","undef","defined","specified"],function(b){m[b]=function(){var c=C._;return c.require[b].apply(c,arguments)}});if(B&&(y=x.head=document.getElementsByTagName("head")[0],H=document.getElementsByTagName("base")[0]))y=x.head=H.parentNode;m.onError=function(b){throw b;};m.load=function(b,c,d){var e=b&&b.config||{},h;if(B)return h=e.xhtml?document.createElementNS("http://www.w3.org/1999/xhtml",
"html:script"):document.createElement("script"),h.type=e.scriptType||"text/javascript",h.charset="utf-8",h.async=true,h.setAttribute("data-requirecontext",b.contextName),h.setAttribute("data-requiremodule",c),h.attachEvent&&!(h.attachEvent.toString&&h.attachEvent.toString().indexOf("[native code")<0)&&!V?(O=true,h.attachEvent("onreadystatechange",b.onScriptLoad)):(h.addEventListener("load",b.onScriptLoad,false),h.addEventListener("error",b.onScriptError,false)),h.src=d,J=h,H?y.insertBefore(h,H):y.appendChild(h),
J=null,h;else if(ca)try{importScripts(d),b.completeLoad(c)}catch(i){b.onError(F("importscripts","importScripts failed for "+c+" at "+d,i,[c]))}};B&&E(document.getElementsByTagName("script"),function(b){if(!y)y=b.parentNode;if(w=b.getAttribute("data-main")){if(!u.baseUrl)I=w.split("/"),R=I.pop(),aa=I.length?I.join("/")+"/":"./",u.baseUrl=aa,w=R;w=w.replace(ba,"");u.deps=u.deps?u.deps.concat(w):[w];return true}});define=function(b,c,d){var e,h;typeof b!=="string"&&(d=c,c=b,b=null);A(c)||(d=c,c=[]);
!c.length&&r(d)&&d.length&&(d.toString().replace(ea,"").replace(fa,function(b,d){c.push(d)}),c=(d.length===1?["require"]:["require","exports","module"]).concat(c));if(O&&(e=J||N()))b||(b=e.getAttribute("data-requiremodule")),h=C[e.getAttribute("data-requirecontext")];(h?h.defQueue:S).push([b,c,d])};define.amd={jQuery:true};m.exec=function(b){return eval(b)};m(u)}})(this);
(function(){var D;typeof head!="undefined"&&(D=function(){return function(d,c){d.push(c);return head.js.apply(head.js,d)}});typeof YUI!="undefined"&&(D=function(){var d;YUI().use("get",function(c){d=c});d.Get.options.async=true;return function(){d.Get.js.apply(d.Get,arguments)}});typeof yepnope!="undefined"&&(D=function(){return function(d,c){var e=d[d.length-1];yepnope({load:d,callback:function(d){e==d&&c()}})}});typeof requirejs!="undefined"&&(D=function(){return function(d,c){requirejs(d,c)}});
var r;typeof $LAB!="undefined"&&(r=function(){var d=$LAB.sandbox();this.script=function(c){d=d.script(c);return this};this.wait=function(c){d=c?d.wait(c):d.wait();return this}});r||(r=function(){var d=null,c=[],e=false,i=D(),o=function(){if(!e&&(e=c.shift()))if(e.uris.length)i(e.uris,function(c){var d=e.callback;e=false;d&&d(c);o()});else{var d=e.callback;e=false;d&&d();o()}};this.script=function(e){d&&clearTimeout(d);c.length||c.push({uris:[],callback:false});c[c.length-1].uris.push(e);d=setTimeout(o,
1);return this};this.wait=function(d){var i=c.length?c[c.length-1]:false;e&&(i=e);if(!i)return d&&d(),this;i.callback?c.push({uris:[],callback:d}):(i.callback=d,c.push({uris:[],callback:false}));return this}});r.prototype.fork=function(){return new r};r.prototype.base=function(d){for(var c=document.getElementsByTagName("script"),e,d=RegExp(d),i=0,o;i<c.length;o=c[i].getAttribute("src"),i++)if(o&&d.test(o)){e=o.split("/");e.pop();e=e.join("/")||"./";break}return e};var A=1,s=null;r.prototype.style=
function(d,c){var e=document.getElementsByTagName("head")[0],i=document.createElement("link");i.setAttribute("type","text/css");i.setAttribute("rel","stylesheet");i.setAttribute("data-spitfire-index",A);c&&i.setAttribute("media",c);i.setAttribute("href",d);if(!s)s=e.lastChild;!s||!s.nextSibling?e.appendChild(i):e.insertBefore(i,s.nextSibling);s=i;A++};var E=typeof define==="function"&&define.amd;if(E||typeof exports=="object"&&exports)E&&define("Spitfire/loader",new r);else{if(!("Spitfire"in this))this.Spitfire=
{};this.Spitfire.loader=new r}}).apply(this);
