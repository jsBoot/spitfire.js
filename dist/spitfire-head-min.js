/*
 <a href="http://en.wikipedia.org/wiki/MIT_License">MIT</a>.
 @copyright All rights reserved <a href="http://www.webitup.fr">copyright WebItUp <dev@webitup.fr> (http://www.webitup.fr/lab)</a>
 @name shimer.js
 @location https://github.com/jsBoot/spitfire.js/blob/master/src/shimer.js#114-c9d8e7426563d7cfb3f9030fb5eea7bc5f6994ad
 <a href="http://en.wikipedia.org/wiki/MIT_License">MIT</a>.
 @copyright All rights reserved <a href="http://www.webitup.fr">copyright WebItUp <dev@webitup.fr> (http://www.webitup.fr/lab)</a>
 @name loader.js
 @location https://github.com/jsBoot/spitfire.js/blob/master/src/loader.js#114-c9d8e7426563d7cfb3f9030fb5eea7bc5f6994ad
*/
'use strict';(function(b,a){function d(a){x[x.length]=a}function l(a){q.className=q.className.replace(RegExp(" \\b"+a+"\\b"),"")}function g(a,c){for(var b=0,q=a.length;b<q;b++)c.call(a,a[b],b)}function s(){q.className=q.className.replace(/ (w-|eq-|gt-|gte-|lt-|lte-|portrait|no-portrait|landscape|no-landscape)\d+/g,"");var a=b.innerWidth||q.clientWidth,c=b.outerWidth||b.screen.width;n.screen.innerWidth=a;n.screen.outerWidth=c;d("w-"+a);g(f.screens,function(c){a>c?(f.screensCss.gt&&d("gt-"+c),f.screensCss.gte&&
d("gte-"+c)):a<c?(f.screensCss.lt&&d("lt-"+c),f.screensCss.lte&&d("lte-"+c)):a===c&&(f.screensCss.lte&&d("lte-"+c),f.screensCss.eq&&d("e-q"+c),f.screensCss.gte&&d("gte-"+c))});var c=b.innerHeight||q.clientHeight,e=b.outerHeight||b.screen.height;n.screen.innerHeight=c;n.screen.outerHeight=e;n.feature("portrait",c>a);n.feature("landscape",c<a)}function u(){b.clearTimeout(A);A=b.setTimeout(s,50)}var p=b.document,c=b.navigator,e=b.location,q=p.documentElement,x=[],f={screens:[240,320,480,640,768,800,
1024,1280,1440,1680,1920],screensCss:{gt:!0,gte:!1,lt:!0,lte:!1,eq:!1},browsers:[{ie:{min:6,max:11}}],browserCss:{gt:!0,gte:!1,lt:!0,lte:!1,eq:!0},section:"-section",page:"-page",head:"head"};if(b.head_conf)for(var h in b.head_conf)b.head_conf[h]!==a&&(f[h]=b.head_conf[h]);var n=b[f.head]=function(){n.ready.apply(null,arguments)};n.feature=function(a,c,b){if(!a)return q.className+=" "+x.join(" "),x=[],n;"[object Function]"===Object.prototype.toString.call(c)&&(c=c.call());d((c?"":"no-")+a);n[a]=!!c;
b||(l("no-"+a),l(a),n.feature());return n};n.feature("js",!0);h=c.userAgent.toLowerCase();c=/mobile|android|kindle|silk|midp|(windows nt 6\.2.+arm|touch)/.test(h);n.feature("mobile",c,!0);n.feature("desktop",!c,!0);h=/(chrome|firefox)[ \/]([\w.]+)/.exec(h)||/(iphone|ipad|ipod)(?:.*version)?[ \/]([\w.]+)/.exec(h)||/(android)(?:.*version)?[ \/]([\w.]+)/.exec(h)||/(webkit|opera)(?:.*version)?[ \/]([\w.]+)/.exec(h)||/(msie) ([\w.]+)/.exec(h)||[];c=h[1];h=parseFloat(h[2]);switch(c){case "msie":c="ie";
h=p.documentMode||h;break;case "firefox":c="ff";break;case "ipod":case "ipad":case "iphone":c="ios";break;case "webkit":c="safari"}n.browser={name:c,version:h};n.browser[c]=!0;for(var w=0,v=f.browsers.length;w<v;w++)for(var r in f.browsers[w])if(c===r){d(r);for(var m=f.browsers[w][r].max,t=f.browsers[w][r].min;t<=m;t++)h>t?(f.browserCss.gt&&d("gt-"+r+t),f.browserCss.gte&&d("gte-"+r+t)):h<t?(f.browserCss.lt&&d("lt-"+r+t),f.browserCss.lte&&d("lte-"+r+t)):h===t&&(f.browserCss.lte&&d("lte-"+r+t),f.browserCss.eq&&
d("eq-"+r+t),f.browserCss.gte&&d("gte-"+r+t))}else d("no-"+r);d(c);d(c+parseInt(h,10));"ie"===c&&9>h&&g("abbr article aside audio canvas details figcaption figure footer header hgroup main mark meter nav output progress section summary time video".split(" "),function(a){p.createElement(a)});g(e.pathname.split("/"),function(c,b){if(2<this.length&&this[b+1]!==a)b&&d(this.slice(b,b+1).join("-").toLowerCase()+f.section);else{var e=c||"index",p=e.indexOf(".");0<p&&(e=e.substring(0,p));q.id=e.toLowerCase()+
f.page;b||d("root"+f.section)}});n.screen={height:b.screen.height,width:b.screen.width};s();var A=0;b.addEventListener?b.addEventListener("resize",u,!1):b.attachEvent("onresize",u)})(window);
(function(b,a){function d(c){var b=c.charAt(0).toUpperCase()+c.substr(1),e;a:{c=(c+" "+u.join(b+" ")+b).split(" ");for(e in c)if(g[c[e]]!==a){e=!0;break a}e=!1}return!!e}var l=b.document.createElement("i"),g=l.style,s=" -o- -moz- -ms- -webkit- -khtml- ".split(" "),u=["Webkit","Moz","O","ms","Khtml"],p=b[b.head_conf&&b.head_conf.head||"head"],c={gradient:function(){g.cssText=("background-image:"+s.join("gradient(linear,left top,right bottom,from(#9f9),to(#fff));background-image:")+s.join("linear-gradient(left top,#eee,#fff);background-image:")).slice(0,
-17);return!!g.backgroundImage},rgba:function(){g.cssText="background-color:rgba(0,0,0,0.5)";return!!g.backgroundColor},opacity:function(){return""===l.style.opacity},textshadow:function(){return""===g.textShadow},multiplebgs:function(){g.cssText="background:url(https://),url(https://),red url(https://)";var a=(g.background||"").match(/url/g);return"[object Array]"===Object.prototype.toString.call(a)&&3===a.length},boxshadow:function(){return d("boxShadow")},borderimage:function(){return d("borderImage")},
borderradius:function(){return d("borderRadius")},cssreflections:function(){return d("boxReflect")},csstransforms:function(){return d("transform")},csstransitions:function(){return d("transition")},touch:function(){return"ontouchstart"in b},retina:function(){return 1<b.devicePixelRatio},fontface:function(){var a=p.browser.version;switch(p.browser.name){case "ie":return 9<=a;case "chrome":return 13<=a;case "ff":return 6<=a;case "ios":return 5<=a;case "android":return!1;case "webkit":return 5.1<=a;
case "opera":return 10<=a;default:return!1}}},e;for(e in c)c[e]&&p.feature(e,c[e].call(),!0);p.feature()})(window);
(function(b,a){function d(){}function l(a,c){if(a){"object"===typeof a&&(a=[].slice.call(a));for(var b=0,e=a.length;b<e;b++)c.call(a,a[b],b)}}function g(c,B){var b=Object.prototype.toString.call(B).slice(8,-1);return B!==a&&null!==B&&b===c}function s(a){return g("Function",a)}function u(a){a=a||d;a._done||(a(),a._done=1)}function p(a){var c={};if("object"===typeof a)for(var b in a)a[b]&&(c={name:b,url:a[b]});else c=a.split("/"),c=c[c.length-1],b=c.indexOf("?"),c={name:-1!==b?c.substring(0,b):c,url:a};
return(a=C[c.name])&&a.url===c.url?a:C[c.name]=c}function c(a){a=a||C;for(var c in a)if(a.hasOwnProperty(c)&&a[c].state!==D)return!1;return!0}function e(a){a.state=K;l(a.onpreload,function(a){a.call()})}function q(c,b){c.state===a&&(c.state=G,c.onpreload=[],n({url:c.url,type:"cache"},function(){e(c)}))}function x(){var a=arguments,c=[].slice.call(a,1),b=c[0];if(!F)return A.push(function(){k.load.apply(null,a)}),k;b?(l(c,function(a){!s(a)&&a&&q(p(a))}),h(p(a[0]),s(b)?b:function(){k.load.apply(null,
c)})):h(p(a[0]));return k}function f(){var a=arguments,b=a[a.length-1],e={};s(b)||(b=null);l(a,function(d,f){d!==b&&(d=p(d),e[d.name]=d,h(d,b&&f===a.length-2?function(){c(e)&&u(b)}:null))});return k}function h(a,b){b=b||d;a.state===D?b():a.state===H?k.ready(a.name,b):a.state===G?a.onpreload.push(function(){h(a,b)}):(a.state=H,n(a,function(){a.state=D;b();l(z[a.name],function(a){u(a)});y&&c()&&l(z.ALL,function(a){u(a)})}))}function n(a,c){c=c||d;var e;/\.css[^\.]*$/.test(a.url)?(e=m.createElement("link"),
e.type="text/"+(a.type||"css"),e.rel="stylesheet",e.href=a.url):(e=m.createElement("script"),e.type="text/"+(a.type||"javascript"),e.src=a.url);e.onload=e.onreadystatechange=function(a){a=a||b.event;if("load"===a.type||/loaded|complete/.test(e.readyState)&&(!m.documentMode||9>m.documentMode))e.onload=e.onreadystatechange=e.onerror=null,c()};e.onerror=function(a){e.onload=e.onreadystatechange=e.onerror=null;c()};e.async=!1;e.defer=!1;var p=m.head||m.getElementsByTagName("head")[0];p.insertBefore(e,
p.lastChild)}function w(){for(var a=m.getElementsByTagName("script"),c=0,b=a.length;c<b;c++){var e=a[c].getAttribute("data-headjs-load");if(e){k.load(e);break}}}function v(){m.body?y||(y=!0,w(),l(t,function(a){u(a)})):(b.clearTimeout(k.readyTimeout),k.readyTimeout=b.setTimeout(v,50))}function r(){m.addEventListener?(m.removeEventListener("DOMContentLoaded",r,!1),v()):"complete"===m.readyState&&(m.detachEvent("onreadystatechange",r),v())}var m=b.document,t=[],A=[],z={},C={},J="async"in m.createElement("script")||
"MozAppearance"in m.documentElement.style||b.opera,F,y,I=b.head_conf&&b.head_conf.head||"head",k=b[I]=b[I]||function(){k.ready.apply(null,arguments)},G=1,K=2,H=3,D=4;if("complete"===m.readyState)v();else if(m.addEventListener)m.addEventListener("DOMContentLoaded",r,!1),b.addEventListener("load",v,!1);else{m.attachEvent("onreadystatechange",r);b.attachEvent("onload",v);var E=!1;try{E=!b.frameElement&&m.documentElement}catch(L){}E&&E.doScroll&&function B(){if(!y){try{E.doScroll("left")}catch(a){b.clearTimeout(k.readyTimeout);
k.readyTimeout=b.setTimeout(B,50);return}v()}}()}k.load=k.js=J?f:x;k.test=function(a,c,b,e){a="object"===typeof a?a:{test:a,success:c?g("Array",c)?c:[c]:!1,failure:b?g("Array",b)?b:[b]:!1,callback:e||d};(c=!!a.test)&&a.success?(a.success.push(a.callback),k.load.apply(null,a.success)):!c&&a.failure?(a.failure.push(a.callback),k.load.apply(null,a.failure)):e();return k};k.ready=function(a,b){if(a===m)return y?u(b):t.push(b),k;s(a)&&(b=a,a="ALL");if("string"!==typeof a||!s(b))return k;var e=C[a];if(e&&
e.state===D||"ALL"===a&&c()&&y)return u(b),k;(e=z[a])?e.push(b):z[a]=[b];return k};k.ready(m,function(){c()&&l(z.ALL,function(a){u(a)});k.feature&&k.feature("domloaded",!0)});setTimeout(function(){F=!0;l(A,function(a){a()})},300)})(window);
(function(){var b;"undefined"!=typeof head&&(b=function(){return function(a,b){a.push(b);return head.js.apply(head.js,a)}});"undefined"!=typeof YUI&&(b=function(){var a;YUI().use("get",function(b){a=b});a.Get.options.async=!0;return function(){a.Get.js.apply(a.Get,arguments)}});"undefined"!=typeof yepnope&&(b=function(){return function(a,b){var c=a[a.length-1];yepnope({load:a,callback:function(a){c==a&&b()}})}});"undefined"!=typeof requirejs&&(b=function(){return function(a,b){requirejs(a,b)}});var a;
"undefined"!=typeof $LAB&&(a=function(){var a=$LAB.sandbox();this.script=function(b){a=a.script(b);return this};this.wait=function(b){a=b?a.wait(b):a.wait();return this}});a||(a=function(){var a=null,d=[],c=!1,e=b(),q=function(){if(!c&&(c=d.shift()))if(c.uris.length)e(c.uris,function(a){var b=c.callback;c=!1;b&&b(a);q()});else{var a=c.callback;c=!1;a&&a();q()}};this.script=function(c){a&&clearTimeout(a);d.length||d.push({uris:[],callback:!1});d[d.length-1].uris.push(c);a=setTimeout(q,1);return this};
this.wait=function(a){var b=d.length?d[d.length-1]:!1;c&&(b=c);if(!b)return a&&a(),this;b.callback?d.push({uris:[],callback:a}):(b.callback=a,d.push({uris:[],callback:!1}));return this}});a.prototype.fork=function(){return new a};a.prototype.base=function(a){var b=document.getElementsByTagName("script"),c;a=RegExp(a);for(var e=0,d;e<b.length;d=b[e].getAttribute("src"),e++)if(d&&a.test(d)){c=d.split("/");c.pop();c=c.join("/")||"./";break}return c||null};var d=1,l=null;a.prototype.style=function(a,
b){var c=document.getElementsByTagName("head")[0],e=document.createElement("link");e.setAttribute("type","text/css");e.setAttribute("rel","stylesheet");e.setAttribute("data-spitfire-index",d);b&&e.setAttribute("media",b);e.setAttribute("href",a);l||(l=c.lastChild);l&&l.nextSibling?c.insertBefore(e,l.nextSibling):c.appendChild(e);l=e;d++};var g="function"===typeof define&&define.amd,s="object"==typeof exports&&exports;g||s?g&&define("Spitfire/loader",new a):("Spitfire"in this||(this.Spitfire={}),this.Spitfire.loader=
new a)}).apply(this);
(function(){var b="function"===typeof define&&define.amd,a="object"==typeof exports&&exports;b||a?b&&define("Spitfire",a={}):a=this.Spitfire||(this.Spitfire={});var d={},l=[];a.add=function(a,b){b in d||(d[b]=[]);d[b].push(a)};a.use=function(a){if(!(a&&a in d))throw"INVALID_CATEGORY";for(var b=0;b<d[a].length;b++)l.push(d[a][b])};a.boot=function(a){for(var b=[],d=0,g;d<l.length&&(g=l[d]);d++)g.test&&(g.patch?g.patch():b.push("burnscars/"+g.uri+(a?".js":"-min.js")));return b};a.XHR="xhr";a.add({test:!0,
uri:"xmlhttprequest"},a.XHR);a.JSON="json";a.add({test:!0,uri:"json3"},a.JSON);a.UNSAFE="unsafe";a.add({test:!Function.isGenerator,uri:"function.isgenerator"},a.UNSAFE);a.add({test:!Object.preventExtensions||!Object.isSealed||!Object.isFrozen||!Object.seal||!Object.freeze,uri:"es5.shim.unsafe"},a.UNSAFE);a.SAFE="safe";var b=void 0===[].unshift("test")||2!=[1,2].splice(0).length||!Array.isArray||!Array.prototype.forEach||!Array.prototype.map||!Array.prototype.filter||!Array.prototype.every||!Array.prototype.some||
!Array.prototype.reduce||!Array.prototype.reduceRight||!Array.prototype.indexOf||-1!=[0,1].indexOf(1,2)||!Array.prototype.lastIndexOf||-1!=[0,1].lastIndexOf(0,-3),g=!Function.prototype.bind,s=!Object.keys,u=!Date.now||!Date.prototype.toISOString||!Date.parse||-1===(new Date(-621987552E5)).toISOString().indexOf("-000001")||function(){var a=!1;try{a=Date.prototype.toJSON&&null===(new Date(NaN)).toJSON()&&-1!==(new Date(-621987552E5)).toJSON().indexOf("-000001")&&Date.prototype.toJSON.call({toISOString:function(){return!0}})}catch(b){}return!a}(),
p=!!"0".split(void 0,0).length||"".substr&&"b"!=="0b".substr(-1)||!String.prototype.trim||"\t\n\x0B\f\r \u00a0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028"+"\u2029\ufeff".trim(),b=b||g||s||u||p;a.add({test:Object.freeze&&function(){try{Object.freeze(function(){})}catch(a){return!0}return!1}(),patch:function(){Object.freeze=function(a){return function(b){return"function"==typeof b?b:a(b)}}(Object.freeze)}},a.SAFE);a.add({test:"undefined"==typeof TypeError,
patch:function(){window.TypeError=Error||function(){}}},a.SAFE);a.add({test:!Object.getPrototypeOf,uri:"object.getprototypeof"},a.SAFE);a.add({test:!Object.getOwnPropertyDescriptor,uri:"object.getownpropertydescriptor"},a.SAFE);a.add({test:!Object.getOwnPropertyNames,uri:"object.getownpropertynames"},a.SAFE);a.add({test:!Object.create,uri:"object.create"},a.SAFE);a.add({test:!Object.defineProperty,uri:"object.defineproperty"},a.SAFE);a.add({test:!Object.defineProperties,uri:"object.defineproperties"},
a.SAFE);a.add({test:!Object.isExtensible,uri:"object.isextensible"},a.SAFE);a.add({test:!window.addEventListener,uri:"events"},a.SAFE);a.add({test:!window.localStorage,uri:"localstorage"},a.SAFE);a.add({test:!navigator.geolocation,uri:"geolocation"},a.SAFE);a.add({test:b,uri:"es5.shim"},a.SAFE);a.add({test:!window.JSON,uri:"json3"},a.SAFE);a.add({test:!window.XMLHttpRequest,uri:"xmlhttprequest"},a.SAFE);a.add({test:!window.console||eval("/*@cc_on @_jscript_version <= 9@*/")||!function(){for(var a=
!0,b="log debug info warn error assert".split(" "),d=0;d<b.length;d++)a&=!!window.console[b[d]];return a}(),uri:"console"},a.SAFE);a.use(a.SAFE);a.add({test:!window.requestAnimationFrame||!window.cancelAnimationFrame,uri:"animationframe"},a.SAFE);a.add({test:!Array.from||!Array.of,uri:"es6.array"},a.SAFE);a.add({test:!Math.acosh||!Math.asinh||!Math.atanh||!Math.cosh||!Math.sinh||!Math.tanh||!Math.expm1,uri:"es6.math"},a.SAFE);a.add({test:!Number.isFinite||!Number.isInteger||!Number.isNaN||!Number.toInteger,
uri:"es6.number"},a.SAFE);a.add({test:!Object.getOwnPropertyDescriptors||!Object.getPropertyDescriptor||!Object.getPropertyNames||!Object.is||!Object.isnt,uri:"es6.object"},a.SAFE);a.add({test:!String.prototype.repeat||!String.prototype.startsWith||!String.prototype.endsWith||!String.prototype.contains,uri:"es6.string"},a.SAFE);setTimeout(function(a){if(!a){var b=window.setTimeout;window.setTimeout=function(a,c){var d=Array.prototype.slice.call(arguments);d.shift();d.shift();b(function(){a.apply(this,
d)},c)}}},1,!0)}).apply(this);
